---
layout: default
title: Blog
pagination:
  enabled: true
  collection: posts
  permalink: /page/:num/
  per_page: 10
  sort_field: date
  sort_reverse: true
  trail:
    before: 1
    after: 3
---

<div class="blog-page">
  <header class="blog-header">
    <h1>Blog</h1>
    <p class="blog-description">Research notes, experiments, and technical explorations.</p>
  </header>

  {% if paginator.page == 1 and site.data.series.size > 0 %}
  <section class="blog-series-section">
    <h2 class="section-title">Series</h2>
    <div class="series-list">
      {% for series in site.data.series %}
      <details class="series-item" {% if forloop.first %}open{% endif %}>
        <summary class="series-header">
          <span class="series-item-title">{{ series.title }}</span>
          <span class="series-item-meta">{{ series.posts | size }} parts · {{ series.description }}</span>
        </summary>
        <ol class="series-posts">
          {% for part in series.posts %}
          {% for post in site.posts %}
            {% assign post_slug = post.path | split: "/" | last | replace: ".md", "" %}
            {% if post_slug == part.slug %}
          <li><a href="{{ post.url | relative_url }}">{{ part.title }}</a></li>
            {% break %}
            {% endif %}
          {% endfor %}
          {% endfor %}
        </ol>
      </details>
      {% endfor %}
    </div>
  </section>

  <h2 class="section-title">All Posts</h2>
  {% endif %}

  <ul class="post-list">
    {% for post in paginator.posts %}
    {% if post.external_source == blank %}
      {% assign read_time = post.content | number_of_words | divided_by: 180 | plus: 1 %}
    {% else %}
      {% assign read_time = post.feed_content | strip_html | number_of_words | divided_by: 180 | plus: 1 %}
    {% endif %}

    <li class="post-item">
      <article>
        <h2 class="post-item-title">
          {% if post.redirect == blank %}
            <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
          {% elsif post.redirect contains '://' %}
            <a href="{{ post.redirect }}" target="_blank">
              {{ post.title }}
              <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: inline-block; vertical-align: middle; margin-left: 4px; opacity: 0.5;">
                <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
                <polyline points="15 3 21 3 21 9"></polyline>
                <line x1="10" y1="14" x2="21" y2="3"></line>
              </svg>
            </a>
          {% else %}
            <a href="{{ post.redirect | relative_url }}">{{ post.title }}</a>
          {% endif %}
        </h2>
        
        {% if post.description %}
        <p class="post-item-description">{{ post.description }}</p>
        {% endif %}
        
        <div class="post-item-meta">
          <time datetime="{{ post.date | date_to_xmlschema }}">{{ post.date | date: '%B %-d, %Y' }}</time>
          <span class="meta-separator">·</span>
          <span>{{ read_time }} min read</span>
          {%- if post.external_source %}
          <span class="meta-separator">·</span>
          <span>{{ post.external_source }}</span>
          {%- endif %}
        </div>
      </article>
    </li>
    {% endfor %}
  </ul>

  {% include pagination.html %}
</div>